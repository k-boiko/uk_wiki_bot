module.exports.TEXT_ON_START = `ÐŸÑ€Ð¸Ð²Ñ–Ñ‚!
Ð¯ Ð½Ð°Ð´ÑÐ¸Ð»Ð°ÑŽ Ð´Ð°Ð¹Ð´Ð¶ÐµÑÑ‚Ð¸ Ð· Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñƒ Ð’Ñ–ÐºÑ–Ð¿ÐµÐ´Ñ–Ñ— "Ð¦ÐµÐ¹ Ð´ÐµÐ½ÑŒ Ð² Ñ–ÑÑ‚Ð¾Ñ€Ñ–Ñ—".
Ð†Ð½Ð¾Ð´Ñ– Ñ…Ð¾Ñ‡ÐµÑ‚ÑŒÑÑ Ð¿Ð¾Ñ‡Ð°Ñ‚Ð¸ Ð´ÐµÐ½ÑŒ Ð· Ñ€ÐµÐ»Ð°ÐºÑÐ°Ñ†Ñ–Ñ— Ð·Ð° Ñ‡Ð°ÑˆÐµÑ‡ÐºÐ¾ÑŽ Ñ‡Ð°ÑŽ. Ð† Ð¿Ð¾ÑÐ²ÑÑ‚ÐºÑƒÐ²Ð°Ñ‚Ð¸ Ð¿Ð¾Ð´Ñ–Ñ— Ð· ÑƒÑÑ–Ð¼ ÑÐ²Ñ–Ñ‚Ð¾Ð¼ :)
Ð¢Ð¸ÑÐ½Ð¸ "Ð¿Ñ–Ð´Ð¿Ð¸ÑÐ°Ñ‚Ð¸ÑÑŒ" Ñ‰Ð¾Ð± Ñ– Ñ‚Ð²Ð¾Ñ— Ñ€Ð°Ð½ÐºÐ¸ ÑÑ‚Ð°Ð»Ð¸ Ñ‚Ð°ÐºÐ¸Ð¼Ð¸.
`;
module.exports.TEXT_ON_SUBSCRIBE = `Ð§ÑƒÐ´Ð¾Ð²Ð¾!
Ð¯ Ð½Ð°Ð´ÑÐ¸Ð»Ð°Ñ‚Ð¸Ð¼Ñƒ Ñ‚Ð¾Ð±Ñ– Ð´Ð°Ð¹Ð´Ð¶ÐµÑÑ‚Ð¸ Ð¾ 7 Ñ€Ð°Ð½ÐºÑƒ Ð¿Ð¾ ÐšÐ¸Ñ—Ð²ÑÑŒÐºÐ¾Ð¼Ñƒ Ñ‡Ð°ÑÑƒ.
Ð”Ð¾ Ð·Ð°Ð²Ñ‚Ñ€Ð° ðŸ‘‹`;
module.exports.TEXT_ON_UNSUBSCRIBE = `Ð”Ð¾Ð±Ñ€Ðµ, Ð±Ñ–Ð»ÑŒÑˆÐµ Ð½Ðµ Ð¿Ñ€Ð¸ÑÐ¸Ð»Ð°Ñ‚Ð¸Ð¼Ñƒ Ð½Ð¾Ñ‚Ð¸Ñ„Ñ–ÐºÐ°Ñ†Ñ–Ð¹. Ñ†ÑŒÐ¾Ð¼ ðŸŒ`;
module.exports.TEXT_ON_TIME_CHANGE_REQUEST = `ÐžÐ±ÐµÑ€Ð¸ Ð·Ñ€ÑƒÑ‡Ð½Ð¸Ð¹ Ñ‡Ð°Ñ ðŸ‘‡, Ð°Ð±Ð¾ Ð²Ñ–Ð´Ð¿Ñ€Ð°Ð² Ð¼ÐµÐ½Ñ– Ñ‡Ð°Ñ Ñƒ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ– Ð“Ð“:Ð¥Ð¥`;
module.exports.TEXT_ON_TIME_CHANGED = `Ð”Ð¾Ð¼Ð¾Ð²Ð¸Ð»Ð¸ÑÑŒ!
Ð¢ÐµÐ¿ÐµÑ€ Ð½Ð°Ð´ÑÐ¸Ð»Ð°Ñ‚Ð¸Ð¼Ñƒ Ð´Ð°Ð¹Ð´Ð¶ÐµÑÑ‚Ð¸ Ð¾ hours:minutes Ð¿Ð¾ ÐšÐ¸Ñ—Ð²ÑÑŒÐºÐ¾Ð¼Ñƒ Ñ‡Ð°ÑÑƒ`;
module.exports.TEXT_DIGEST_TEMPLATE = ``;

module.exports.BUTTON_SUBSCRIBE = `ÐŸÑ–Ð´Ð¿Ð¸ÑÐ°Ñ‚Ð¸ÑÑŒ`;
module.exports.BUTTON_UNSUBSCRIBE = `Ð’Ñ–Ð´Ð¿Ð¸ÑÐ°Ñ‚Ð¸ÑÑŒ`;
module.exports.BUTTON_TIME_CHANGE_REQUEST = `Ð—Ð¼Ñ–Ð½Ð¸Ñ‚Ð¸ Ñ‡Ð°Ñ Ð½Ð¾Ñ‚Ð¸Ñ„Ñ–ÐºÐ°Ñ†Ñ–Ð¹`;

module.exports.MONTHS = ['ÑÑ–Ñ‡Ð½Ñ', 'Ð»ÑŽÑ‚Ð¾Ð³Ð¾', 'Ð±ÐµÑ€ÐµÐ·Ð½Ñ', 'ÐºÐ²Ñ–Ñ‚Ð½Ñ', 'Ñ‚Ñ€Ð°Ð²Ð½Ñ', 'Ñ‡ÐµÑ€Ð²Ð½Ñ', 'Ð»Ð¸Ð¿Ð½Ñ', 'ÑÐµÑ€Ð¿Ð½Ñ', 'Ð²ÐµÑ€ÐµÑÐ½Ñ', 'Ð¶Ð¾Ð²Ñ‚Ð½Ñ', 'Ð»Ð¸ÑÑ‚Ð¾Ð¿Ð°Ð´Ð°', 'Ð³Ñ€ÑƒÐ´Ð½Ñ'];


module.exports.getHolidays = ({holidays}) => !holidays || !holidays.length ? '' :
  `*Ð¡Ð²ÑÑ‚Ð° Ñ– Ð¿Ð°Ð¼'ÑÑ‚Ð½Ñ– Ð´Ð½Ñ–*
${holidays.map(({description}) => `â€¢ ${description}`).join('\n')}
`;

// module.exports.getEvents = ({events}) => !events || !events.length ? '' :
//   `*ÐŸÐ¾Ð´Ñ–Ñ—*
// ${events.map(({year, description}) => `â€¢ ${year} â€” ${description}`).join('\n')}
// `;
//
// module.exports.getBirths = ({births}) => !births || !births.length ? '' :
//   `*ÐÐ°Ñ€Ð¾Ð´Ð¸Ð»Ð¸ÑÑŒ*
// ${births.map(({year, description}) => `â€¢ ${year} â€” ${description}`).join('\n')}
// `;
//
// module.exports.getDeaths = ({deaths}) => !deaths || !deaths.length ? '' :
//   `*ÐŸÐ¾Ð¼ÐµÑ€Ð»Ð¸*
// ${deaths.map(({year, description}) => `â€¢ ${year} â€” ${description}`).join('\n')}
// `;
//
// module.exports.getNameDays = ({name_days}) => !name_days || !name_days.length ? '' :
//   `*Ð†Ð¼ÐµÐ½Ð¸Ð½Ð¸*
// ${name_days.map(({description}) => description).join('\n')}
// `;

const getEvents = ({episodes, title}) => !episodes || !episodes.length ? '' :
  `*${title}*
${episodes.map(({description}) => `â€¢ ${description}`).join('\n')}
`;

const getDates = ({episodes, title}) => !episodes || !episodes.length ? '' :
  `*${title}*
${episodes.map(({year, description}) => `â€¢ ${year} â€” ${description}`).join('\n')}
`;


const getGreeting = () => 'ÐŸÑ€Ð¸Ð²Ñ–Ñ‚! Ð¡ÑŒÐ¾Ð³Ð¾Ð´Ð½Ñ– Ð² Ð½Ð°Ñ:';

module.exports.composeDailyDigest = (rawDailyEvents) => `
${getGreeting()}
${rawDailyEvents.description}

${Object.keys(rawDailyEvents).map(keyName => {
  if(keyName === 'description') {
    return '';
  }
  const episodes = rawDailyEvents[keyName].episodes || [];

  if(episodes.length) {
    if(episodes[0].year) {
      return getDates(rawDailyEvents[keyName])
    }
    return getEvents(rawDailyEvents[keyName])
  }
  return '';
}).join('\n')}
`.replace(/\n\n\n/, '\n\n');

/*
 TODO: add possibility to subscribe to this types of events

 ${getBirths(rawDailyEvents)}

 ${getDeaths(rawDailyEvents)}
 */

/*
${module.exports.getHolidays(rawDailyEvents)}
${module.exports.getEvents(rawDailyEvents)}
${module.exports.getNameDays(rawDailyEvents)}\`
*/
